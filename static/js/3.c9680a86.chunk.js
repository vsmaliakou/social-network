(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[3],{378:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(134),r=a(144),o=a(145),l=a(148),s=a(146),c=a(0),i=a.n(c),u=a(22),m=a(18),f=function(e){return{isAuth:e.auth.isAuth}};function p(e){var t=function(t){Object(l.a)(c,t);var a=Object(s.a)(c);function c(){return Object(r.a)(this,c),a.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){var t=this.props,a=t.isAuth,r=Object(n.a)(t,["isAuth"]);return a?i.a.createElement(e,r):i.a.createElement(u.a,{to:"login"})}}]),c}(i.a.Component);return Object(m.b)(f)(t)}},379:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3xR_Z",mainPhoto:"ProfileInfo_mainPhoto__tjjbB",contact:"ProfileInfo_contact__AvHXG",formSummaryError:"ProfileInfo_formSummaryError__3-ikd"}},380:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__3lvOM",posts:"MyPosts_posts__viENX"}},381:function(e,t,a){e.exports={item:"Post_item__2VERT"}},383:function(e,t,a){"use strict";a.r(t);var n=a(144),r=a(145),o=a(148),l=a(146),s=a(0),c=a.n(s),i=a(147),u=a(379),m=a.n(u),f=a(103),p=function(e){var t=Object(s.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],o=Object(s.useState)(e.status),l=Object(i.a)(o,2),u=l[0],m=l[1];Object(s.useEffect)((function(){m(e.status)}),[e.status]);return c.a.createElement("div",null,!n&&c.a.createElement("div",null,c.a.createElement("b",null,"Status"),": ",c.a.createElement("span",{onDoubleClick:function(){r(!0)}},e.status||"no status")),n&&c.a.createElement("div",null,c.a.createElement("input",{onChange:function(e){m(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateUserStatus(u)},value:u})))},d=a(171),b=a.n(d),E=a(182),v=a(56),h=Object(E.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profilePage,n=e.error;return c.a.createElement("form",{onSubmit:t},c.a.createElement("div",null,c.a.createElement("button",null,"save")),n&&c.a.createElement("div",{className:m.a.formSummaryError},n),c.a.createElement("div",null,c.a.createElement("b",null,"Full name"),": ",Object(v.c)("Full name","fullName",v.a,[])),c.a.createElement("div",null,c.a.createElement("b",null,"Looking for a job"),": ",Object(v.c)("","lookingForAJob",v.a,[],"checkbox")),c.a.createElement("div",null,c.a.createElement("b",null,"My professional skills"),": ",Object(v.c)("My professional skills","lookingForAJobDescription",v.b,[])),c.a.createElement("div",null,c.a.createElement("b",null,"About me"),": ",Object(v.c)("About me","aboutMe",v.b,[])),c.a.createElement("div",null,c.a.createElement("b",null,"Contacts"),": ",Object.keys(a?a.contacts:"").map((function(e){return c.a.createElement("div",{key:e,className:m.a.contact},c.a.createElement("b",null,e,": ",Object(v.c)(e,"contacts."+e,v.a,[])))}))))})),g=function(e){var t=e.profilePage,a=e.isOwner,n=e.goToEditMode;return c.a.createElement("div",null,a&&c.a.createElement("div",null,c.a.createElement("button",{onClick:n},"edit")),c.a.createElement("div",null,c.a.createElement("b",null,"Full name"),": ",t.fullName),c.a.createElement("div",null,c.a.createElement("b",null,"Looking for a job"),": ",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&c.a.createElement("div",null,c.a.createElement("b",null,"My professional skills"),": ",t.lookingForAJobDescription),c.a.createElement("div",null,c.a.createElement("b",null,"About me"),": ",t.aboutMe),c.a.createElement("div",null,c.a.createElement("b",null,"Contacts"),": ",Object.keys(t.contacts).map((function(e){return c.a.createElement(P,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))))},P=function(e){var t=e.contactTitle,a=e.contactValue;return c.a.createElement("div",{className:m.a.contact},c.a.createElement("b",null,t),": ",a)},O=function(e){var t=e.profilePage,a=e.status,n=e.updateUserStatus,r=e.isOwner,o=e.savePhoto,l=e.saveProfile,u=Object(s.useState)(!1),d=Object(i.a)(u,2),E=d[0],v=d[1];if(!t)return c.a.createElement(f.a,null);return c.a.createElement("div",null,c.a.createElement("div",{className:m.a.descriptionBlock},c.a.createElement("img",{src:(null===t||void 0===t?void 0:t.photos.large)||b.a,className:m.a.mainPhoto,alt:"img"}),r&&c.a.createElement("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&o(e.target.files[0])}}),E?c.a.createElement(h,{profilePage:t,initialValues:t,onSubmit:function(e){l(e).then((function(){v(!1)}))}}):c.a.createElement(g,{profilePage:t,isOwner:r,goToEditMode:function(){v(!0)}}),c.a.createElement(p,{status:a,updateUserStatus:n})))},j=a(149),k=a(55),y=a(380),S=a.n(y),_=a(381),A=a.n(_),U=function(e){return c.a.createElement("div",{className:A.a.item},c.a.createElement("img",{src:"https://yt3.ggpht.com/a/AATXAJytBX4x38SJiFeRv9M9zdseNIPWzcWf_slSlz5b=s900-c-k-c0xffffffff-no-rj-mo",alt:"img"}),e.message,c.a.createElement("div",null,c.a.createElement("span",null,e.likeCount)))},I=a(104),M=Object(E.a)({form:"ProfileAddNewPostForm"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("div",null,Object(v.c)("Your post","newPostText",v.b,[I.b])),c.a.createElement("div",null,c.a.createElement("button",null,"Add post")))})),N=c.a.memo((function(e){var t=Object(k.a)(e.profilePage.posts).reverse().map((function(e){return c.a.createElement(U,{key:e.id,id:e.id,message:e.message,likeCount:e.likeCount})}));return c.a.createElement("div",{className:S.a.postsBlock},c.a.createElement("h3",null,"My posts"),c.a.createElement(M,{onSubmit:function(t){e.addPost(t.newPostText)}}),c.a.createElement("div",{className:S.a.posts},t))})),w=a(18),C=Object(w.b)((function(e){return{profilePage:e.profilePage}}),{addPost:j.a})(N),F=function(e){return c.a.createElement("div",null,c.a.createElement(O,{profilePage:e.profilePage,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),c.a.createElement(C,null))},x=a(22),B=a(378),J=a(23),T=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),e?(this.props.getUserProfile(e),this.props.getUserStatus(e)):console.error("ID should exists in URL params or in state ('authorizedUserId')")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(F,Object.assign({},this.props,{isOwner:!this.props.match.params.userId}))}}]),a}(c.a.Component);t.default=Object(J.d)(Object(w.b)((function(e){return{profilePage:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:j.c,getUserStatus:j.d,updateUserStatus:j.g,savePhoto:j.e,saveProfile:j.f}),x.h,B.a)(T)}}]);
//# sourceMappingURL=3.c9680a86.chunk.js.map